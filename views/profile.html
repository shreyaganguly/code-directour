<a class="btn btn-sm btn-primary float-right" style="margin-right: 164px;margin-top:-40px;" href="/index">Home</a>
<a class="btn btn-sm btn-primary float-right" style="margin-right: 232px;margin-top:-40px;" href="/all">All Snippets</a>
<div class="container profile" style="padding:20px;">
  <form class="form-horizontal">
    <h4 class="profileheadings"> Link Settings </h4>
    <div class="form-group">
      <label for="endpoint">Link Endpoint</label>
      <input type="text" class="form-control" id="share-endpoint" name="endpoint" aria-describedby="endpointHelp" placeholder="https://code-directour.com" value="{{ .Endpoint}}">
      <small id="endpointHelp" class="form-text text-muted"><b>The link endpoint with which you can share the snippets with your colleagues. Please fill this to enable Sharing By Link</b></small>
    </div>
    <button type="submit" class="btn btn-primary endpoint-submit">Submit</button>
    <a class="btn btn-secondary" style="margin-left:8px;" href="/index">Cancel</a>
  </form>
  <form class="form-horizontal" action="/profile/email/save" method="POST">
    <h4 class="profileheadings"> Email Settings </h4>
    <div class="form-group">
      <label for="server">SMTP Server</label>
      <input type="text" class="form-control" name="server" placeholder="smtp.gmail.com" value="{{ .Email.Server}}">
    </div>
    <div class="form-group">
      <label for="port">SMTP Port</label>
      <input type="port" class="form-control" name="port" placeholder="587" value="{{ .Email.Port}}">
    </div>
    <div class="form-group">
      <label for="email">Email Address</label>
      <input type="email" class="form-control" name="email" aria-describedby="emailHelp" placeholder="abc@gmail.com" value="{{ .Email.Address}}">
      <small id="emailHelp" class="form-text text-muted">Email Address which will send the emails</small>
    </div>
    <div class="form-group">
      <label for="password">Email Password</label>
      <input type="password" class="form-control" name="password" aria-describedby="passwordHelp" placeholder="**********" value="{{ .Email.Password}}">
      <small id="passwordHelp" class="form-text text-muted">Refer to README.md for details.</small>
    </div>
    <div class="form-group">
      <label for="sendername">Sender Name</label>
      <input type="text" class="form-control" name="sendername" aria-describedby="sendernameHelp" placeholder="Code Directour" value="{{ .Email.SenderName}}">
      <small id="sendernameHelp" class="form-text text-muted">Sender Name to show in the emails</small>
    </div>
    <div class="form-group">
      <label for="senderemail">Sender Email</label>
      <input type="email" class="form-control" name="senderemail" aria-describedby="senderemailHelp" placeholder="no-reply@code-directour.com" value="{{ .Email.SenderEmail}}">
      <small id="senderemailHelp" class="form-text text-muted">Sender Email to show in the emails</small>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
    <a class="btn btn-secondary" style="margin-left:8px;" href="/index">Cancel</a>
  </form>
  <form class="form-horizontal" action="/profile/slack/save" method="POST">
    <h4 class="profileheadings"> Slack Settings </h4>
    <div class="form-group">
      <label for="token">Slack Token</label>
      <input type="text" class="form-control" name="token" aria-describedby="tokenHelp" placeholder="xoxb-xxxxxxxxxxxxxxxxxxxxxxxxxxx" value="{{.Slack.Token}}">
      <small id="tokenHelp" class="form-text text-muted">Refer to README.md for details of generating slack bot token. Please fill this to enable Sharing By Slack.</small>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
    <a class="btn btn-secondary" style="margin-left:8px;" href="/index">Cancel</a>
  </form>
</div>
<script>
  $('.endpoint-submit').click(function (e) {
        e.preventDefault();
        $.ajax({
          url: '/profile/link/save',
          type: 'POST',
          data : { endpoint: $('#share-endpoint').val()},
          success : function(data) {
            alert('ajax data posted');
            $('#result').html(data);
          },
          error: function(data) {
            $('#result').html(data);
          }
        });
     });
</script>
